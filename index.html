<!-- тЬЕ G9 Tool Updated with All Features: No layout/design change, only features added -->

<!-- тЬЕ All input fields remain unchanged -->
<!-- тЬЕ WhatsApp message format, sidebar, and theme untouched -->
<!-- тЬЕ Added: Multi Image Support with [+ Add Image] button -->
<!-- тЬЕ Max image limit: 5 -->
<!-- тЬЕ Slider enabled when >1 image -->

<!-- тЬЕ Place this inside the form-wrapper, after the WhatsApp input field -->
<div id="multi-image-wrapper">
  <label style="font-weight:bold; margin-top:10px; display:block;">ржЫржмрж┐рж░ рж▓рж┐ржВржХ (рзз-рзлржЯрж┐):</label>
  <input type="url" class="multi-img" placeholder="ржЫржмрж┐рж░ рж▓рж┐ржВржХ рзз (ржЖржмрж╢рзНржпржХ)" required>
</div>
<button type="button" onclick="addImageField()" style="margin:10px 0; background:#444; color:#fff; border:none; border-radius:6px; padding:8px 16px;">тЮХ ржЖрж░ржУ ржЫржмрж┐ ржпрзЛржЧ ржХрж░рзБржи</button>

<!-- тЬЕ JavaScript ржПрж░ ржоржзрзНржпрзЗ ржпрзБржХрзНржд ржХрж░рзБржи addImageField() ржлрж╛ржВрж╢ржи -->
<script>
function addImageField() {
  const wrapper = document.getElementById("multi-image-wrapper");
  const inputs = wrapper.querySelectorAll("input.multi-img");
  if (inputs.length >= 5) {
    alert("рж╕рж░рзНржмрзЛржЪрзНржЪ рзлржЯрж┐ ржЫржмрж┐ ржпрзЛржЧ ржХрж░рж╛ ржпрж╛ржмрзЗред");
    return;
  }
  const input = document.createElement("input");
  input.type = "url";
  input.className = "multi-img";
  input.placeholder = `ржЫржмрж┐рж░ рж▓рж┐ржВржХ ${inputs.length + 1}`;
  input.style.marginTop = "10px";
  wrapper.appendChild(input);
}
</script>

<!-- тЬЕ ржПржЦржи generateCode ржлрж╛ржВрж╢ржирзЗрж░ ржнрж┐рждрж░рзЗ ржЗржорзЗржЬ ржирзЗржУрзЯрж╛рж░ рж▓рж╛ржЗржиржЯрж┐ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзБржи -->
<script>
function generateCode() {
  const name = document.getElementById("name").value;
  const code = document.getElementById("code").value;
  const price = document.getElementById("price").value;
  const offer = document.getElementById("offer").value;
  const delivery = document.getElementById("delivery").value || "N/A";
  const status = document.getElementById("status").value;
  const category = document.getElementById("category").value;
  const desc = document.getElementById("desc").value;
  const wa = document.getElementById("wa").value;
  
  const imgs = Array.from(document.querySelectorAll("input.multi-img"))
                   .map(i => i.value.trim())
                   .filter(Boolean);

  if (!name || !code || !price || !status || !category || imgs.length === 0 || !wa) {
    alert("рж╕ржм ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржлрж┐рж▓рзНржб ржкрзВрж░ржг ржХрж░рзБржиред");
    return;
  }

  const finalPrice = offer
    ? `<span style="font-size:18px; font-weight:bold;"><span style="color:#888; text-decoration: line-through; margin-right:6px;">рз│${price}</span><span style="color:#d00;">рз│${offer}</span></span>`
    : `<span style="font-size:18px; font-weight:bold; color:#222;">рз│${price}</span>`;

  const waText = encodeURIComponent(`ЁЯУж ржЖржорж┐ ржПржХржЯрж┐ ржкржгрзНржп ржЕрж░рзНржбрж╛рж░ ржХрж░рждрзЗ ржЪрж╛ржЗ:\nЁЯФЦ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ: ${name}\nЁЯТ░ ржорзВрж▓рзНржп: рз│${offer || price}\nЁЯз╛ ржХрзЛржб: ${code}\nЁЯУБ ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐: ${category}\nЁЯЪЪ ржбрзЗрж▓рж┐ржнрж╛рж░рж┐ ржЯрж╛ржЗржо: ${delivery}`);
  const waLink = `https://wa.me/${wa}?text=${waText}`;

  let imageSection = "";
  if (imgs.length > 1) {
    imageSection = `<div style="overflow:hidden;position:relative;width:100%;">
      <div style="white-space:nowrap;overflow-x:auto;scroll-snap-type:x mandatory;">
        ${imgs.map(img => `<img src="${img}" style="width:100%;max-width:100%;border-radius:10px;display:inline-block;scroll-snap-align:center;margin-bottom:10px;" />`).join('')}
      </div>
    </div>`;
  } else {
    imageSection = `<img src="${imgs[0]}" style="max-width:100%;border-radius:10px;margin-bottom:10px;" alt="${name}" />`;
  }

  const html = `
<div style="text-align:center;">
  ${imageSection}
  <h2 style="margin:5px 0;">${name}</h2>
  <p style="font-size:16px;">${finalPrice}</p>
</div>
<p style="text-align:center;margin:10px 0;">
  <a href="${waLink}" target="_blank" style="display:inline-block;background:#25D366;color:#fff;padding:12px 24px;border-radius:8px;font-weight:bold;text-decoration:none;">
    ЁЯУ▓ ржЕрж░рзНржбрж╛рж░ ржХрж░рзБржи WhatsApp ржП
  </a>
</p>
<ul style="text-align:left;">
  <li>ЁЯФв ржХрзЛржб: ${code}</li>
  <li>ЁЯУж рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕: ${status}</li>
  <li>ЁЯУБ ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐: ${category}</li>
  <li>ЁЯЪЪ ржбрзЗрж▓рж┐ржнрж╛рж░рж┐ ржЯрж╛ржЗржо: ${delivery}</li>
</ul>
<p>${desc}</p>
<p style="display:none;">
  <a href="#">
    {getProduct} $button={Price} $price={рз│${offer || price}} $sale={рз│${price}} $icon={cart} $style={1}
  </a>
</p>`;

  document.getElementById("output").textContent = html;
  document.getElementById("note").textContent = "тЬЕ ржХрзЛржб рждрзИрж░рж┐ рж╣ржпрж╝рзЗржЫрзЗ!";
  document.getElementById("preview").innerHTML = html;
}
</script>
