<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>G9 Tool ‚Äì Blogger Product Generator</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 20px;
      background: #f7f7f7;
      color: #333;
      transition: 0.3s;
    }
    body.dark {
      background: #1e1e1e;
      color: #fff;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    .dark .container {
      background: #2a2a2a;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    button {
      padding: 10px 20px;
      margin: 5px;
      background: #d32f2f;
      border: none;
      color: #fff;
      border-radius: 5px;
      cursor: pointer;
    }
    .dark button {
      background: #4caf50;
    }
    #output {
      white-space: pre-wrap;
      background: #f4f4f4;
      padding: 10px;
      border-radius: 5px;
      margin-top: 20px;
    }
    img#preview {
      max-width: 100%;
      margin-top: 10px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
<div class="container">
  <h2>G9 Tool ‚Äì Blogger Product Generator</h2>
  <form id="g9Form">
    <input type="text" id="title" placeholder="‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ" required>
    <input type="text" id="sku" placeholder="SKU / ‡¶ï‡ßã‡¶°">
    <input type="number" id="price" placeholder="‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶∏ (‡ß≥)" required>
    <input type="number" id="oldPrice" placeholder="‡¶Æ‡ßÇ‡¶≤ ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶∏ (‡ß≥)">
    <input type="text" id="delivery" placeholder="‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø ‡¶ü‡¶æ‡¶á‡¶Æ">
    <select id="stock">
      <option>In Stock</option>
      <option>Out of Stock</option>
      <option>Limited Stock</option>
    </select>
    <input type="text" id="category" placeholder="‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø (‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶ú‡¶æ‡¶Æ‡¶¶‡¶æ‡¶®‡¶ø)">
    <textarea id="description" rows="4" placeholder="‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶°‡ßá‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶®"></textarea>
    <input type="url" id="image" placeholder="‡¶õ‡¶¨‡¶ø‡¶∞ URL">
    <input type="text" id="whatsapp" placeholder="‡¶è‡¶°‡¶Æ‡¶ø‡¶® WhatsApp ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ (8801XXXXXXXXX)" required>
    <button type="submit">‚úÖ Generate</button>
    <button type="button" onclick="copyOutput()">üìã Copy</button>
    <button type="button" onclick="downloadOutput()">‚¨á Download</button>
    <button type="button" onclick="toggleTheme()">üåó Theme</button>
    <img id="preview" src="" alt="">
  </form>
  <div id="output"></div>
</div>

<script>
function toggleTheme() {
  document.body.classList.toggle("dark");
}

document.getElementById("image").addEventListener("input", function () {
  document.getElementById("preview").src = this.value;
});

function escapeHTML(str) {
  return str.replace(/[&<>"']/g, function (m) {
    return ({
      '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;'
    })[m];
  });
}

document.getElementById("g9Form").addEventListener("submit", function (e) {
  e.preventDefault();
  const title = escapeHTML(document.getElementById("title").value);
  const sku = escapeHTML(document.getElementById("sku").value);
  const price = +document.getElementById("price").value;
  const oldPrice = +document.getElementById("oldPrice").value;
  const delivery = escapeHTML(document.getElementById("delivery").value);
  const stock = escapeHTML(document.getElementById("stock").value);
  const category = escapeHTML(document.getElementById("category").value);
  const desc = escapeHTML(document.getElementById("description").value);
  const image = escapeHTML(document.getElementById("image").value);
  const whatsapp = escapeHTML(document.getElementById("whatsapp").value);
  const discount = (oldPrice && price) ? Math.round((1 - price / oldPrice) * 100) : 0;
  const postUrl = location.href;

  const message = `‡¶Ü‡¶Æ‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶á:\n\n‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ: ${title}\n‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø: ‡ß≥${price}\n‡¶∏‡ßç‡¶ü‡¶ï: ${stock}\n‡¶≤‡¶ø‡¶Ç‡¶ï: ${postUrl}\n\n‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶ú‡¶æ‡¶®‡¶æ‡¶®‡•§`;

  const html = `
<!-- Shortcode Hidden -->
<p style="display:none;">
  <a href="#">
    {{getProduct}} $button={{Price}} $price={{‡ß≥${price}}} $sale={{‡ß≥${oldPrice || ''}}} $icon={{cart}} $style={{1}}
  </a>
</p>

<!-- WhatsApp Button -->
<p>
  <a href="https://wa.me/${whatsapp}?text=${encodeURIComponent(message)}" target="_blank"
     style="background:#25D366;color:#fff;padding:10px 20px;display:inline-block;border-radius:6px;text-decoration:none;">
    üì≤ ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® WhatsApp ‡¶è
  </a>
</p>

<!-- Product Display -->
<img src="${image}" alt="${title}" style="width:100%;border-radius:10px;margin-top:10px;">
<h2>${title}</h2>
<p><strong>‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø:</strong> ‡ß≥${price} ${oldPrice ? `<del>‡ß≥${oldPrice}</del>` : ''} ${discount ? `<span style="color:green;">${discount}% OFF</span>` : ''}</p>
<p><strong>‡¶∏‡ßç‡¶ü‡¶ï:</strong> ${stock}</p>
<p><strong>‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø:</strong> ${delivery}</p>
<p><strong>‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø:</strong> ${category}</p>
<p>${desc}</p>
`;

  document.getElementById("output").textContent = html;
});

function copyOutput() {
  const output = document.getElementById("output");
  navigator.clipboard.writeText(output.textContent).then(() => {
    alert("‚úÖ Copied to clipboard!");
  });
}

function downloadOutput() {
  const content = document.getElementById("output").textContent;
  const blob = new Blob([content], {{ type: 'text/plain' }});
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "g9-post.txt";
  a.click();
  URL.revokeObjectURL(url);
}
</script>
</body>
</html>
